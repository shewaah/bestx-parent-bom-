#!/bin/bash
# /*
# * Copyright 1997-2016 SoftSolutions! srl
# * All Rights Reserved.
# *
# * This script starts the <%=@servicename%> application.
# *
# * artifact ref.: <%=@servicename%>
# * script version 1.0 - 2016/03/10
# *
# * NOTICE: All information contained herein is, and remains the property of SoftSolutions! srl
# * The intellectual and technical concepts contained herein are proprietary to SoftSolutions! srl and
# * may be covered by EU, U.S. and other Foreign Patents, patents in process, and
# * are protected by trade secret or copyright law.
# * Dissemination of this information or reproduction of this material is strictly forbidden
# * unless prior written permission is obtained from SoftSolutions! srl.
# * Any additional licenses, terms and conditions, if any, are defined in file 'LICENSE.txt',
# * which may be part of this software package.
# */
PIDFILE=<%=@exedir-%>/<%=@servicename%>.pid
if [ ! -f "$PIDFILE" ] || ! kill -0 $(cat "$PIDFILE"); then
    echo 'Service <%=@servicename%> not running' >&2
    exit 1
fi
echo 'Stopping service <%=@servicename%>' >&2
kill -15 $(cat "$PIDFILE") && rm -f "$PIDFILE"
echo 'Service <%=@servicename%> stopped' >&2
exit 0